<ion-header>
  <ion-navbar>
    <ion-title> Signup </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="formGroup" (ngSubmit)="signupUser (); $event.preventDefault ();" >

    <!-- NOME -->
    <!-- formControlName = Outra forma de fazer binding de valores -->
    <ion-item>
      <ion-label stacked> * Nome: </ion-label>
      <ion-input type="text" formControlName="nome"></ion-input>
    </ion-item>

    <!-- *ngIf = Diretiva que permite verifica valores -->
    <!-- dirty = Quando o valor campo ja foi modificado -->
    <!-- errors = Vai ser ativado quando algum dos validators passarem -->
    <p class="danger" *ngIf="formGroup.controls['nome'].dirty && formGroup.controls['nome'].errors" margin-left>
      Valor inválido
    </p>

    <!-- EMAIL -->
    <ion-item>
      <ion-label stacked> * Email: </ion-label>
      <ion-input type="text" formControlName="email"></ion-input>
    </ion-item>

    <p class="danger" *ngIf="formGroup.controls['email'].dirty && formGroup.controls['email'].errors" margin-left>
        Valor inválido
      </p>

    <!-- TIPO DE CLIENTE -->
    <ion-list radio-group formControlName="tipoCliente">
      <ion-list-header> * Tipo de Cliente: </ion-list-header>
      <ion-item>
        <ion-label> Pessoa física </ion-label>
        <ion-radio checked="true" value="1"></ion-radio>
      </ion-item>
      <ion-item>
        <ion-label> Pessoa jurídica </ion-label>
        <ion-radio value="2"></ion-radio>
      </ion-item>
    </ion-list>

    <!-- CPF / CNPJ -->
    <ion-item>
      <ion-label stacked> CPF ou CNPJ: </ion-label>
      <ion-input type="text" formControlName="cpfOuCnpj"></ion-input>
    </ion-item>
    
    <p class="danger" *ngIf="formGroup.controls['cpfOuCnpj'].dirty && formGroup.controls['cpfOuCnpj'].errors" margin-left>
        Valor inválido
    </p>

    <!-- SENHA -->
    <ion-item>
      <ion-label stacked> * Senha: </ion-label>
      <ion-input type="password" formControlName="senha"></ion-input>
    </ion-item>

    <p class="danger" *ngIf="formGroup.controls['senha'].dirty && formGroup.controls['senha'].errors" margin-left>
        Valor inválido
    </p>

    <!-- LOGRADOURO -->
    <ion-item>
      <ion-label stacked> * Logradouro: </ion-label>
      <ion-input type="text" formControlName="logradouro"></ion-input>
    </ion-item>

    <p class="danger" *ngIf="formGroup.controls['logradouro'].dirty && formGroup.controls['logradouro'].errors" margin-left>
        Valor inválido
    </p>

    <!-- NUMERO -->
    <ion-item>
      <ion-label stacked> * Número: </ion-label>
      <ion-input type="text" formControlName="numero"></ion-input>
    </ion-item>

    <p class="danger" *ngIf="formGroup.controls['numero'].dirty && formGroup.controls['numero'].errors" margin-left>
        Valor inválido
    </p>

    <!-- COMPLEMENTO -->
    <ion-item>
      <ion-label stacked> Complemento: </ion-label>
      <ion-input type="text" formControlName="complemento"></ion-input>
    </ion-item>

    <!-- BAIRRO -->
    <ion-item>
      <ion-label stacked> Bairro: </ion-label>
      <ion-input type="text" formControlName="bairro"></ion-input>
    </ion-item>

    <!-- CEP -->
    <ion-item>
      <ion-label stacked> * CEP: </ion-label>
      <ion-input type="text" formControlName="cep"></ion-input>
    </ion-item>

    <p class="danger" *ngIf="formGroup.controls['cep'].dirty && formGroup.controls['cep'].errors" margin-left>
        Valor inválido
    </p>

    <!-- TELEFONE 1 -->
    <ion-item>
      <ion-label stacked> * Telefone 1: </ion-label>
      <ion-input type="text" formControlName="telefone1"></ion-input>
    </ion-item>

    <p class="danger" *ngIf="formGroup.controls['telefone1'].dirty && formGroup.controls['telefone1'].errors" margin-left>
        Valor inválido
    </p>

    <!-- TELEFONE 2 -->
    <ion-item>
      <ion-label stacked> Telefone 2: </ion-label>
      <ion-input type="text" name="telefone2"></ion-input>
    </ion-item>

    <!-- TELEFONE 3 -->
    <ion-item>
      <ion-label stacked> Telefone 3: </ion-label>
      <ion-input type="text" formControlName="telefone3"></ion-input>
    </ion-item>

    <!-- ESTADO -->
    <ion-item>
      <ion-label stacked> * Estado: </ion-label>
      <ion-select formControlName="estadoID" (ionChange)="updateCidades ();">
        <ion-option *ngFor="let estado of estados; first as f" [value]="estado.id" [selected]="f"> {{estado.nome}} </ion-option>
      </ion-select>
    </ion-item>

    <!-- CIDADE -->
    <ion-item>
      <ion-label stacked> * Cidade: </ion-label>
      <ion-select formControlName="cidadeID">
        <ion-option *ngFor="let cidade of cidades;" [value]="cidade.id"> {{cidade.nome}} </ion-option>
      </ion-select>
    </ion-item>

    <!-- SUBMIT -->
    <!-- [disabled]="formGroup.invalid" = Botao bloqueado enquanto nao passar na validacao -->
    <button type="submit" ion-button block [disabled]="formGroup.invalid"> Criar conta </button>
  </form>
</ion-content>